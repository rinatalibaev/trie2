<html lang="en"
      xmlns = "http://www.w3.org/1999/xhtml"
      xmlns:h = "http://xmlns.jcp.org/jsf/html"
      xmlns:f = "http://xmlns.jcp.org/jsf/core"
      xmlns:p = "http://primefaces.org/ui">
<h:head>
    <title>Словарь</title>
</h:head>

<h:body>
    <h:form>
        <p:dataTable id="dicPanel" var="word" value="#{basicView.words}" emptyMessage="No cars found with given criteria" filteredValue="#{basicView.filteredWords}" rowKey="#{word.id}" selectionMode="single">
            <p:ajax event="rowSelect" listener="#{basicView.onRowSelect}"/>

            <p:column filterBy="#{word.word}" headerText="Слово" filterMatchMode="contains">
                <h:outputText value="#{word.word}" />
            </p:column>

            <p:column headerText="Статус">
                <h:outputText value="#{word.status}" />
            </p:column>

            <p:column headerText="Длина">
                <h:outputText value="#{word.length}" />
            </p:column>

            <p:column headerText="+">
                <f:facet name="header">
                    <p:commandButton value="Add" icon="fa fa-fw fa-plus" type="button" onclick="PF('dlg2').show();" />
                </f:facet>
                <p:commandButton icon="fa fa-fw fa-edit" type="button"/>
                <p:commandButton icon="fa fa-fw fa-trash" type="button" update="dicPanel" action="#{basicView.removeWord()}"/>
            </p:column>
        </p:dataTable>

        <p:dialog header="Add word" widgetVar="dlg2" modal="true" height="150" width="500" hideEffect="clip">
            <p:ajax event="close" update="dicPanel" />
            <h:form>
                <h:panelGrid columns="2" cellpadding="5">
                    <h:outputLabel for="name" value="Name:" style="font-weight:bold" />
                    <p:inputText id="name" value="#{basicView.text}" />
                    <h:outputLabel for="status" value="Status:" style="font-weight:bold" />
                    <p:inputText id="status" value="#{basicView.status}" />
                    <p:commandButton value="Submit" action="#{basicView.addWord}" icon="pi-check" onclick="PF('dlg2').hide();"/>
                </h:panelGrid>
            </h:form>
        </p:dialog>

    </h:form>

</h:body>
</html>
